!function o(a,i,r){function s(t,e){if(!i[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},a[t][0].call(n.exports,function(e){return s(a[t][1][e]||e)},n,n.exports,o,a,i,r)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({1:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Utils"),s=e("./Site"),r=(o(l,null,[{key:"bind",value:function(e){e=$(void 0!==e?e:"body");e.find("[data-api]").not("form").off(".api").on("click.api",l.onAction),e.find("form[data-api]").off(".api").on("submit.api",l.onAction).attr("novalidate","novalidate")}},{key:"callIt",value:function(o,a,i){o=l.preprocessData(o,a),a.addClass("is-doing-request");var e=o.action||"POST";delete o.action;var r=o.url||window.location.pathname;return delete o.url,a.addClass("is-doing-request"),new Promise(function(t,n){$.ajax({url:r,global:!1,type:e,dataType:"json",async:!0,data:o}).done(function(e){o.callback&&l.onSuccess(o,a,e),i&&"function"==typeof i&&i(o,a,e),t(e)}).fail(function(e){console.warn("API error: "+e,o),s.debug&&(o.callback&&l.onSuccess(o,a,null),i&&"function"==typeof i&&i(o,a,null)),n(e)}).always(function(){a.removeClass("is-doing-request")})})}},{key:"preprocessData",value:function(e,t){return t.is("form")&&(e.url=!e.url&&t.attr("action")?t.attr("action"):e.url,e=$.extend(e,t.find(":input").serializeObject()),console.log("data form",e,e.params,e.form,t.find(":input"))),t.is("[href]")&&(e.url=!e.url&&t.attr("href")?t.attr("href"):e.url),e.form&&$(e.form)[0]&&delete(e=$.extend(e,$(e.form).serializeObject())).form,e.params&&delete(e=$.extend(e,e.params)).params,console.log("data pre",e,e.params),e}}]),l);function l(){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this)}(n.API=r).beforeCalls={login:function(e,t){$body.hasClass("is-logged")?r.callIt(e,t):$(".js-login").last().trigger("click")},validate:function(e,t){var o=!0,a="",n=t.is("form")?t:t.closest("form"),t=n;n.hasClass("is-done")?n.removeClass("is-done"):(t.find(".js-error").text(""),t.find("[required]:input").each(function(e,t){if("INPUT"===t.nodeName)switch(t.type){case"email":var n=t.value;/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?$(t).removeClass("is-error"):(o=!1,a=i.translations[0<n.length?"invalid-email":"required-field"].en,$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a));break;case"checkbox":t.checked?$(t).removeClass("is-error"):(o=!1,a=(a="")||i.translations["required-field"].en,$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a));break;case"text":t.value.length<1?(o=!1,a=(a="")||i.translations["required-field"].en,$(t).hasClass("js-postal")&&(a=i.translations["invalid-zip"].en),$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a)):$(t).removeClass("is-error");break;case"number":break;case"phone":t.value.length<1?(o=!1,a=(a="")||i.translations["required-field"].en,$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a)):$(t).removeClass("is-error")}"TEXTAREA"===t.nodeName&&(t.value.length<1?(o=!1,a=(a="")||i.translations["required-field"].en,$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a)):$(t).removeClass("is-error"))}),t.find("input[name=zipcode]").each(function(e,t){var n=t.value;0<n.length&&$(t).hasClass("js-postal")&&5!=n.length&&(o=!1,a=(a="")||i.translations["invalid-zip"].en,$(t).addClass("is-error"),$(t).nextAll(".js-error").text(a))}),o?(r.callIt(e,n),n.removeClass("has-errors"),t.find(".js-error").text("")):n.addClass("has-errors"))}},r.callbacks={onCookiesClose:function(e,t,n){t.parent().addClass("is-hidden")},onSubscribe:function(e,t,n){console.log("onSubscribe");var o=t.find(".js-message");t.removeClass("is-error"),o[0]||(t.append('<div class="js-message message">'),o=t.find(".js-message"));var a=$("<p>"+n.message+"</p>");o.html("").append(a),n.result?(t.addClass("is-completed"),t.parent().addClass("is-subscribed"),t.closest(".join").addClass("is-subscribed"),t.find("input").val(""),t.find("input:checked").removeAttr("checked"),t[0].hasAttribute("data-redirect")&&setTimeout(function(){window.location.assign("/")},1500)):t.addClass("is-error"),t.find("input").trigger("blur")}},r.onAction=function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),e=Object.assign({},$(e.currentTarget).data("api"));console.log(e,"data"),(t.is("form")?t:t.closest("form")).addClass("is-submitted"),e.beforeCall&&e.beforeCall in r.beforeCalls?r.beforeCalls[e.beforeCall](e,t):r.callIt(e,t)},r.onSuccess=function(e,t,n){e.callback&&e.callback in r.callbacks&&r.callbacks[e.callback](e,t,n)}},{"./Site":11,"./Utils":12}],2:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});o(i,null,[{key:"update",value:function(){var e=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/[\"\']/g,"");n.breakpoint={desktop:"desktop"===e,phone:"phone"===e,tablet:"tablet"===e,value:e},console.log("BP:",n.breakpoint.value)}}]),o=i;function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this)}n.Breakpoint=o},{}],3:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(){var e=window.navigator.userAgent;return n.browser={mobile:!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))),ios:/iPad|iPhone|iPod/.test(e),mac:0<=navigator.platform.toUpperCase().indexOf("MAC"),ie:0<e.indexOf("MSIE ")||!!e.match(/Trident.*rv\:11\./),opera:!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),firefox:-1<e.toLowerCase().indexOf("firefox"),safari:/^((?!chrome|android).)*safari/i.test(e),windows:-1<window.navigator.platform.toLowerCase().indexOf("win")},$("html").toggleClass("mac",!n.browser.windows&&(n.browser.ios||n.browser.mac)).toggleClass("windows",n.browser.windows&&!n.browser.mac&&!n.browser.ios).toggleClass("mobile",n.browser.mobile).toggleClass("firefox",n.browser.firefox).toggleClass("safari",n.browser.safari).toggleClass("ie",n.browser.ie),n.browser}Object.defineProperty(n,"__esModule",{value:!0}),n.getBrowser=i;o(r,null,[{key:"update",value:function(){n.browser=i()}}]),o=r;function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}n.Browser=o},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./components/Slider"),a=e("./components/Tooltip"),i=e("./components/Dropdown"),r=e("./components/Filters"),s=e("./components/Dashboard"),l=e("./components/Stats"),c=e("./components/Masonry"),u=e("./components/Range"),d=e("./components/Chart"),p=e("./components/Aside"),f=e("./components/Parallax"),e=e("./pages/Page");n.components={Slider:o.Slider,Tooltip:a.Tooltip,Dropdown:i.Dropdown,Filters:r.Filters,Dashboard:s.Dashboard,Stats:l.Stats,Masonry:c.Masonry,Range:u.Range,Chart:d.Chart,Parallax:f.Parallax,Aside:p.Aside},n.pages={Page:e.Page}},{"./components/Aside":13,"./components/Chart":14,"./components/Dashboard":16,"./components/Dropdown":17,"./components/Filters":18,"./components/Masonry":19,"./components/Parallax":20,"./components/Range":21,"./components/Slider":22,"./components/Stats":23,"./components/Tooltip":24,"./pages/Page":25}],5:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});o(i,[{key:"bind",value:function(){$("[data-copy]").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),e=window.location.origin+window.location.pathname;window.Clipboard.copy(e),window.console.info('"%s" copied',e),t.addClass("is-copied"),setTimeout(function(){t.removeClass("is-copied")},1e3)})}}]),o=i;function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.bind()}n.Copy=o},{}],6:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});o(i,[{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}},{key:"off",value:function(e,t){if(void 0===e)return this.events={},this;if(void 0===t&&this.events[e])return this.events[e]=[],this;if(!this.events[e])return this;t=this.events[e].indexOf(t);return-1<t&&this.events[e].splice(t,1),this}},{key:"trigger",value:function(e){for(var t,n=this,o=arguments.length,a=Array(1<o?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];this.events[e]&&(t=arguments,this.events[e].forEach(function(e){return e.apply(n,[].slice.call(t,1))}))}},{key:"destroy",value:function(){this.events={}}}]),o=i;function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.events={}}n.Handler=o},{}],7:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});o(i,[{key:"show",value:function(){gsap.to(this.view,{y:0,duration:.2})}},{key:"hide",value:function(){gsap.killTweensOf(this.view,["width"]),gsap.to(this.view,{duration:.5,y:10,width:this.width||"100%"})}},{key:"set",value:function(e){this.progress=e,gsap.killTweensOf(this.view,["y"]);e=this.width*e;gsap.killTweensOf(this.view,["width"]),gsap.to(this.view,{duration:.3,width:e})}},{key:"resize",value:function(e,t){this.width=e}}]),o=i;function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.view=e,this.width=window.innerWidth,this.progress=0}n.Loader=o},{}],8:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Handler"),s=e("./Scroll"),l=e("./Site"),c=e("./Utils"),u=e("./components/Aside"),d=History,p=function e(){i(this,e)};(n.PushStatesEvents=p).CHANGE="state",p.PROGRESS="progress";(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,r.Handler),o(f,[{key:"load",value:function(){var n=this;this.request&&this.request.abort();var o=window.location.pathname+(window.location.search||"");return window.clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.request&&window.location.reload()},f.TIME_LIMIT),new Promise(function(e,t){n.request=new XMLHttpRequest,n.request.open("GET",o),n.request.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.request.onload=function(){200===n.request.status?(n.loadedData=n.request.responseText,n.trigger(p.PROGRESS,1),e()):(t(Error(n.request.statusText)),"abort"!==n.request.statusText&&window.location.reload()),n.request=null,window.clearTimeout(n.timeout)},n.request.onerror=function(){t(Error("Network Error")),window.clearTimeout(n.timeout),n.request=null},n.request.onprogress=function(e){e.lengthComputable&&n.trigger(p.PROGRESS,e.loaded/e.total)},n.request.send()})}},{key:"render",value:function(){var n=this,o=this.loadedData.trim(),a=$(".js-replace[id], #main").toArray(),i=0;0<a.length&&a.forEach(function(e,t){i+=n.renderElement(e,o,0===t&&1===a.length)?1:0}),0===i&&0<a.length&&this.renderElement($("#main")[0],o,!0),this.bindLinks(),this.setActiveLinks(),window.document.dispatchEvent(new Event("ajax_loaded"))}},{key:"renderElement",value:function(e,t,n){var o=null,a="#"+e.id;return(o=n&&0===t.indexOf("<article")&&"article-main"===e.id?t:$($(t).find(a)[0]||$(t).filter(a)[0]).html())?($(a).hide().empty().html(o||t).show(),!0):(console.info("Couldn't rerender #"+e.id+" element"),!1)}},{key:"bindLink",value:function(e){$(e).off("click").on("click.history",this.onClick)}},{key:"bindLinks",value:function(e){e=e||"body",$(e).find("a").not('[data-history="false"]').not("[data-api]").not("[download]").not("[data-modal]").not('[href^="#"]').not('[href$=".jpg"]').not('[target="_blank"]').not('[href^="mailto:"]').not('[href^="tel:"]').not("[data-poczta]").not("[data-login]").not("[data-lang]").not("[data-scroll-to]").off(".history").on("click.history",this.onClick),$(e).find('a[href^="http"]').not('[href^="http://'+window.location.host+'"]').off(".history"),$(e).find('a[href^="#"]').not('[href="#"]').off(".history").on("click.history",this.onHashClick),$("[data-hamburger]").on("click",f.asideToggle)}},{key:"setActiveLinks",value:function(){$("a[href]").removeClass("is-active"),$('a[href="'+window.location.pathname+'"]').addClass("is-active")}}],[{key:"setTitle",value:function(e){document.title=e||$("#main > [data-title]").data("title")}},{key:"goTo",value:function(e,t){var n=e.replace(window.location.protocol+window.location.host,""),o=n!==window.location.pathname;return Modernizr.history?t?d.replaceState({randomData:Math.random()},document.title,n):d.pushState({randomData:Math.random()},document.title,n):window.location.replace(e),o}},{key:"changePath",value:function(e,t,n){f.noChange=!0;t=f.goTo(e,t||!0);f.noChange=!1,t&&f.setTitle(n||document.title)}},{key:"bind",value:function(e,t){t?f.instance.bindLink(e):f.instance.bindLinks(e)}},{key:"back",value:function(e){2<history.length?d.back():e?d.replaceState({randomData:Math.random()},document.title,e):d.replaceState({randomData:Math.random()},document.title,"/")}},{key:"reload",value:function(){f.instance.trigger(p.CHANGE)}},{key:"setNavbarVisibility",value:function(){l.$pageHeader||($("html").addClass("is-animated"),l.$body.addClass("navbar-always-shown"))}}]),o=f;function f(){i(this,f);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return e.onLanguageClick=function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).data("lang"),n=$("[data-alternate]").data("alternate"),t=n?n[t||Object.keys(n)[0]]:null,n=$('link[rel="alternate"][hreflang]')[0],n=n?n.href:null;window.location.assign(t||n||e.currentTarget.href)},e.onClick=function(e){e.preventDefault();var e=$(e.currentTarget),t=e.attr("href").replace("http://"+window.location.host,""),n=e.attr("data-history");setTimeout(function(){"back"===n?f.back(t):"replace"===n?d.replaceState({randomData:Math.random()},document.title,t):(s.Scroll.resetScrollCache(t),d.pushState({randomData:Math.random()},document.title,t))},1e3)},e.onHashClick=function(e){e.preventDefault(),e.stopPropagation(),console.log("click link"),l.$body.hasClass("is-aside-open")?(f.asideToggle(),setTimeout(function(){s.Scroll.scrollToElement($(e.currentTarget.hash))},500)):s.Scroll.scrollToElement($(e.currentTarget.hash))},e.onState=function(){e.setActiveLinks(),f.setNavbarVisibility(),f.noChange||e.trigger(p.CHANGE)},d&&(e.bindLinks(),d.Adapter.bind(window,"statechange",e.onState)),(f.instance=e).setActiveLinks(),e}(n.PushStates=o).TIME_LIMIT=5e3,o.noChange=!1,o.asideToggle=function(e){e=e?$(e.currentTarget):$("[data-hamburger]");l.$body.toggleClass("is-aside-open"),e.toggleClass("is-open"),e.hasClass("is-open")?(gsap.set(l.$article,{"will-change":"transform"}),c.enableBodyScrolling(s.Scroll.scrollTop)):(gsap.set(l.$article,{clearProps:"will-change"}),c.disableBodyScrolling(s.Scroll.scrollTop)),u.Aside.asideAnimation()}},{"./Handler":6,"./Scroll":9,"./Site":11,"./Utils":12,"./components/Aside":13}],9:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var f=e("./Browser"),v=e("./Breakpoint"),b=e("./Site"),r=e("./Classes"),o=(o(w,[{key:"resize",value:function(){w.windowHeight=window.innerHeight,w.headerHeight=$("#navbar").height(),w.maxScroll=$("#main").outerHeight()-w.windowHeight+w.headerHeight,this.backgrounds=this.buildBackgrounds(),this.saveCache()}},{key:"onState",value:function(){return!this.changingPath&&w.scrollToPath()}},{key:"stop",value:function(){w.disable()}},{key:"load",value:function(){var e=this;this.sections=$("[data-scroll]"),this.saveCache(),b.$window.off(".scrolling").on("scroll.scrolling",function(){return e.onScroll()})}},{key:"start",value:function(){w.enable(),w.instance.onScroll()}},{key:"destroy",value:function(){this.cache={},b.$window.off(".scrolling")}},{key:"buildBackgrounds",value:function(){var i={};return $("[data-bg-component]").toArray().forEach(function(e,t){var n=$(e),o=n.data("bg-component"),a=n.data("options");void 0!==r.components[o]?((a=new r.components[o](n,a)).id=e.id,i[e.id]=a):window.console.warn('There is no "%s" component available!',o)}),i}},{key:"saveCache",value:function(){var o=this,n=[];$("[data-animation]").each(function(e,t){t=$(t);n.push({$el:t,start:void 0!==t.data("start")?t.data("start"):.1,y:+t.offset().top,height:t.outerHeight(),done:t.hasClass("animated"),type:t.data("animation"),delay:t.data("delay")||null,uncache:t.data("uncache"),component:t.data("comp")})});var a=[];$("[data-parallax]").each(function(e,t){var n=$(t),t=n.data("parallax");a.push({$el:n,start:0,y:n.offset().top,height:n.outerHeight(),type:"string"==typeof t?t:null,shift:"number"==typeof t?t:null,done:!1,$child:n.children().first(),childHeight:n.children().first().height()})});var i=[];$("[data-background]").each(function(e,t){var n=$(t),t=n.data("background");0<=(t.breakpoints||["desktop","tablet","phone"]).indexOf(v.breakpoint.value)&&(o.backgrounds[t.id]?i.push($.extend({$el:n,y:n.offset().top,height:n.outerHeight(),start:1,index:e,darkenDelay:0},t||{})):console.warn("there's no background with id="+t.id+"!"))}),this.cache.animations=n,this.cache.parallaxes=a,this.cache.backgrounds=i,this.onScroll()}},{key:"animate",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.1,a=arguments[4],i=a?0:.6;switch(n){case"fade":gsap.killTweensOf(t,{opacity:!0}),gsap.fromTo(t,{opacity:0},{duration:i,opacity:1,ease:"sine",delay:o}),""===t.data("uncache")&&t.addClass("uncached");break;case"fadeUp":gsap.killTweensOf(t,{opacity:!0,y:!0}),gsap.fromTo(t,{opacity:0,y:40},{duration:i,opacity:1,y:0,ease:"sine",delay:o}),""===t.data("uncache")&&t.addClass("uncached");break;case"fadeDown":gsap.killTweensOf(t,{opacity:!0,y:!0}),gsap.fromTo(t,{opacity:0,y:-10},{duration:i,opacity:1,y:0,ease:"sine",delay:o});break;case"fadeRight":gsap.killTweensOf(t,{opacity:!0,x:!0}),gsap.fromTo(t,{opacity:0,x:-10},{duration:i,opacity:1,x:0,ease:"sine",delay:o});break;case"fadeLeft":gsap.killTweensOf(t,{opacity:!0,x:!0}),gsap.fromTo(t,{opacity:0,x:10},{duration:i,opacity:1,x:0,ease:"sine",delay:o});break;case"iTabs":gsap.set(t,{opacity:1});var r=t.find("span:first-child"),s=t.find("span:last-child");gsap.fromTo(r,{duration:.5,x:"50%",opacity:0},{x:"0%",opacity:1}),gsap.fromTo(s,{duration:.5,x:"-50%",opacity:0},{x:"0%",opacity:1});break;case"elements":gsap.set(t,{opacity:1}),gsap.fromTo(t.find("[data-view-tab]"),{duration:1,y:"100%"},{y:"0%",stagger:.2,onComplete:function(){gsap.to(t.find(".item__tabs"),{duration:1,overflow:"unset"})}});break;case"fact":gsap.set(t,{opacity:1});var r=t.find(".fact__text span"),s=new SplitText(r,{type:"words, chars"}),l=t.find(".fact__image-wrap"),r=t.find(".fact__icon");gsap.timeline().fromTo(r,{duration:1,rotate:90},{rotate:0,delay:.5}).fromTo(s.chars,{duration:1,opacity:0,x:-5},{x:0,opacity:1,stagger:.01},"-=0.8").fromTo(l,{duration:1,opacity:0,scale:.95},{opacity:1,scale:1},"-=0.5");break;case"lead":gsap.set(t,{opacity:1});for(var l=new SplitText(t.children(),{type:"words, lines",linesClass:"line"}),c=t.find(".line"),u=0;u<c.length;u++)$(c[u]).after("<br>"),$(c[u]).append('<span class="line__bg"></span>');gsap.fromTo(l.words,{duration:1,opacity:0},{opacity:1,stagger:.1,delay:.4}),gsap.to(t.find(".line__bg"),{duration:.75,scaleX:1,stagger:.1});break;case"scale":gsap.fromTo(t,{duration:1,scaleX:0},{scaleX:1,opacity:1,delay:o});break;case"chars":gsap.set(t,{opacity:1});var d=new SplitText(t.children(),{type:"words, chars"});gsap.fromTo(d.chars,{duration:1,scaleX:0,opacity:0},{scaleX:1,opacity:1,stagger:.05});break;case"chars-simple":gsap.set(t,{opacity:1});var p=new SplitText(t.children(),{type:"words, chars"});gsap.fromTo(p.chars,{duration:1,opacity:0},{opacity:1,stagger:.05});break;case"words-simple":gsap.set(t,{opacity:1});var f=new SplitText(t.children(),{type:"words"}),h=t.data("stagger")?t.data("stagger"):.2;gsap.fromTo(f.words,{duration:1,opacity:0},{opacity:1,stagger:h});break;case"images":gsap.set(t,{opacity:1}),gsap.fromTo(t.find("img"),{duration:1,opacity:0,scale:.95},{opacity:1,scale:1,stagger:.2});break;case"hero":gsap.set(t,{opacity:1});var g=t.find('[data-item="0"] .js-map'),y=t.find('[data-caption="0"] .js-el'),m=t.find('[data-caption="0"]'),v=t.find(".js-navigation");gsap.set([g,y,v],{opacity:0}),gsap.fromTo(g,1.5,{duration:1.5,opacity:0,scale:.85},{opacity:1,scale:1,onComplete:function(){g.addClass("is-active"),g.removeAttr("style")}}),gsap.to(m,{duration:1,opacity:1,delay:.5,onComplete:function(){m.removeAttr("style"),m.addClass("is-active")}}),gsap.fromTo(y,1,{duration:1,opacity:0,x:-20},{opacity:1,x:0,delay:1.25,stagger:.2,onComplete:function(){}}),gsap.to(v,1,{duration:1,opacity:1,delay:1.5,onComplete:function(){y.removeAttr("style"),t.addClass("is-ready")}});break;case"quote":d=t.find(".js-quote-words"),p=t.find(".js-quote-author"),f=t.find("hr");gsap.set([d,t,p],{opacity:1});h=d.children(),v=new SplitText(d,{type:"words"});gsap.timeline({autoRemoveChildren:!0}).set(d,{opacity:1}).fromTo(h,.5,{opacity:0},{opacity:1,ease:"power3"},"+="+o).from(v.words,.5,{opacity:0,x:8,transformOrigin:"0% 100%",ease:"power3",stagger:.05},.1).fromTo(p,.7,{opacity:0,x:-10},{opacity:1,x:0},"-=0.3").fromTo(f,{duration:.7,scaleX:0},{scaleX:1},"-=0.3");break;case"words":gsap.set(t,{opacity:1});var b=new SplitText(t,{type:"words, chars"});if(gsap.fromTo(b.chars,{duration:1,opacity:0},{opacity:1,stagger:.05}),""===t.data("uncache"))for(var w=0;w<b.chars.length;w++)b.chars[w].classList.add("uncached");break;case"upDown":gsap.set(t,{opacity:1});var k="up"===t.data("shift")?10:-10;gsap.fromTo(t,{duration:.5,y:0,opacity:1},{opacity:.2,y:k,repeat:2,ease:"none",yoyo:!0,delay:o,onComplete:function(){gsap.to(t,{duration:.5,y:0,opacity:1})}});break;case"itemsFade":var C=t.find("."+t.data("elements")),P=t.data("elements-in")?t.find("."+t.data("elements-in")):null,x=t.data("stagger")?t.data("stagger"):.2,O=!!t.data("y"),k=!!t.data("scale");if(gsap.set(t,{opacity:1}),gsap.set(C,{opacity:0}),""===t.data("uncache")){for(var T=0;T<C.length;T++)C[T].classList.add("uncached");if(P)for(var S=0;S<P.length;S++)P[S].classList.add("uncached")}k?(gsap.fromTo(C,.8,{duration:1,opacity:0,scale:.9},{scale:1,opacity:1,stagger:x,delay:o}),gsap.fromTo(P,.8,{duration:1,opacity:0},{opacity:1,stagger:x,delay:o+.4})):O?gsap.fromTo(C,{duration:1,opacity:0,y:10},{y:0,opacity:1,stagger:x,delay:o}):gsap.fromTo(C,{duration:1,opacity:0,x:-10},{x:0,opacity:1,stagger:x,delay:o});break;case"video-text":O=t.find(".js-col-66"),x=t.find(".js-col-33");gsap.set(t,{opacity:1}),gsap.set([O,x],{opacity:0}),gsap.to(O,{duration:1,opacity:1,delay:.2}),gsap.fromTo(x,{duration:1,opacity:0,x:-20},{opacity:1,x:0,delay:.4});break;case"heading":var j=t.find(".js-title"),_=t.find(".js-heading-hr"),E=new SplitText(j,{type:"words, chars"});gsap.set(t,{opacity:1}),gsap.fromTo(E.chars,{duration:1,opacity:0},{opacity:1,stagger:.05}),gsap.fromTo(_,{duration:1,scaleX:0},{scaleX:1,delay:.5});break;case"titleFadeIn":j=t.find(".js-fixed-title"),E=t.find(".js-sub"),_=t.find(".js-arr");gsap.from(j,{duration:1.5,opacity:0,scale:1.2,delay:2}),gsap.from(E,{duration:1,opacity:0,y:30,delay:3.2}),gsap.from(_,{duration:1,opacity:0,y:30,delay:3.7});break;case"intro":var A=t.find(".js-curtain");gsap.set(t,{opacity:1}),gsap.to(A,{duration:3,opacity:0,delay:1}),$("html").addClass("is-animated");break;case"header":gsap.set(t,{opacity:1});var A=t.find(".js-time"),M=t.find(".phone-hide .social__item"),H=t.find(".phone-hide .social__title"),R=t.find(".js-header-hr");gsap.fromTo([A,H,M],{duration:1,opacity:0,x:-10},{x:0,opacity:1,stagger:.1}),gsap.fromTo(R,{scaleX:0},{scaleX:1});break;case"number":var I=t.find("[data-num]"),H=t.find("[data-num]").data("num"),M=t.data("time")?1e3*t.data("time"):2e3,R=0<t.find("[data-text]").length?t.find("[data-text]"):null,D=-1<H.toString().indexOf(".")?H.toString().length-H.toString().indexOf(".")-1:null;I.css({width:I.width(),display:"inline-block"}),gsap.fromTo(t,{duration:.5,opacity:0},{opacity:1}),R&&(gsap.set(R,{opacity:0}),gsap.to(R,1,{duration:1,opacity:1,delay:M/1e3})),I.prop("Counter",0).animate({Counter:H},{duration:M,easing:"swing",step:function(e){D&&0<D?I.data("replace")?I.text(e.toFixed(D).toString().replace(".",",")):I.text(e.toFixed(D)):I.text(Math.ceil(e))}});break;default:console.warn('animation type "'+n+'" does not exist')}}},{key:"parallax",value:function(e,t,n,o){if(e.shift){var a=e.$el,i=e.y,r=t+(1-e.start)*n;t-e.height+o<=i&&i<=r&&(r=(i-t+e.height-o)/(n+e.height-o),i=Math.round(r*e.shift),r=e.done?.5:0,e.done=!0,gsap.killTweensOf(a),gsap.to(a,{duration:r,y:i,roundProps:["y"],ease:"sine"}))}else if(e.type){var s=e.$el,i=s.parent().parent(),l=e.y,c=t+(1-e.start)*n,u=t-e.height;i.height();switch(e.type){case"hero":gsap.set(e.$el,{y:f.browser.mobile?0:.5*t});break;case"fixedImage":u<=l&&l<=c?s.hasClass("has-parallax")||s.addClass("has-parallax"):s.removeClass("has-parallax");break;case"css-animation":u+o<=l&&l<=c?e.$el.hasClass("animation-play")||e.$el.addClass("animation-play"):e.$el.removeClass("animation-play");break;case"relativeParallax":var d=e.childHeight-e.height,p=Math.min(d,e.height+o),d=(t-e.y+n)/(n+e.height),d=Math.round((1-d)*p);d=p<(d=d<0?0:d)?p:d,gsap.set(e.$child,{y:-d});break;default:console.warn('animation type "'+e.type+'" does not exist')}}}}],[{key:"scrollToElement",value:function(o,a,i){return new Promise(function(e){w.animating=!0;var t=o.offset().top-w.headerHeight+(a||0),n={y:Math.max(document.body.scrollTop,window.pageYOffset)};gsap.killTweensOf(n),gsap.to(n,{y:t,ease:"sine",duration:void 0===i?1:i,onUpdate:function(){window.scrollTo(0,n.y)},onComplete:function(){w.animating=!1,e()}})})}},{key:"resetScrollCache",value:function(e){w.instance.cache[e]=0}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.animating=!1,this.disabled=!1}},{key:"scrollToPath",value:function(e){var t=$('[data-path="'+window.location.pathname+'"]');return!!t[0]&&(w.scrollToElement(t,0,0),!0)}}]),w);function w(){var m=this;!function(e){if(!(e instanceof w))throw new TypeError("Cannot call a class as a function")}(this),this.cache={},this.scrollCache={},this.onScroll=function(){if(!w.disabled&&!b.$body.hasClass("is-aside-open")){var u,d,p,f=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,h=w.windowHeight,e=(w.windowHeight,w.headerHeight),t=$("#main").outerHeight()-window.innerHeight-2,n=0<$("#page-header").length?$("#page-header").offset().top-2*w.headerHeight:0,o=0<$("#page-header").length?$("#page-header").offset().top-w.headerHeight:0;if(w.scrollTop=f,m.scrollCache[window.location.pathname]=f,b.$body.toggleClass("is-scrolled-window-height",h-100<f),b.$body.toggleClass("is-scrolled-navbar",100<f),b.$body.toggleClass("is-scrolled",0<f),b.$body.toggleClass("is-trailer-scrolled",n<f),b.$body.toggleClass("is-backgrounds-scrolled",o<f),b.$body.toggleClass("is-scroll-end",t<=f),m.cache.animations&&0<m.cache.animations.length)for(var a=0;a<m.cache.animations.length;a++){var i,r=m.cache.animations[a],s=f+(1-r.start)*h,l=f,c=m.ignoreCache?r.$el.offset().top:r.y,g=m.ignoreCache?r.$el.height():r.height;!r.done&&c<=s&&f<=c+g?(r.$el.addClass("animated"),r.done=!0,i=c+g<=l,r.component&&"toggle"===r.type&&"function"==typeof r.component.enable?r.component.enable():m.animate(r,r.$el,r.type,r.delay,i)):r.done&&r.component&&"toggle"===r.type&&(s<c||c+g<l)?(console.log(r),"function"==typeof r.component.disable&&r.component.disable(),r.done=!1):r.uncache&&r.done&&(f<=c-h||c+h<=f)&&(r.done=!1,0<r.$el.find(".uncached").length&&r.$el.find(".uncached").removeAttr("style"),r.$el.attr("data-uncache")&&r.$el.removeAttr("style"),r.$el.removeClass("animated"))}if(m.cache.parallaxes&&0<m.cache.parallaxes.length&&v.breakpoint.desktop)for(var y=0;y<m.cache.parallaxes.length;y++)m.parallax(m.cache.parallaxes[y],f,h,-e);m.cache.backgrounds&&(u=.5*h,d=[],p=[],m.cache.backgrounds.forEach(function(e,t){var n=m.ignoreCache?e.$el.offset().top:e.y,o=m.ignoreCache?e.$el.outerHeight():e.height,a=n+o,i=void 0!==e.start?f+e.start*h:u,r=m.backgrounds[e.id],s=void 0!==e.delay?e.delay:.1,l=-(n-i)/o,c=!1,a=b.$body.hasClass("is-trailer-scrolled")?n<=f+h&&f<=n+o:n-f<=u&&u<=a-f;if(1===m.cache.backgrounds.length)return e.shown=!0,r.shown||r.animationIn(!1,2),void(c=!0);a?(e.shown||(e.shown=!0,r.shown||r.animationIn(!1,s),c=!0),r.update(l),r.setStep(e.step,c),e.darken&&r.darken(n<=i-h*e.darkenDelay),d.push(e.id)):e.shown&&(p.push(e.id),e.shown=!1)}),p.length&&p.forEach(function(e){d.indexOf(e)<0&&m.backgrounds[e].animationOut(!1)}))}},this.ignoreCache=!!f.browser.safari,$(window).on("scroll",this.onScroll),this.backgrounds=this.buildBackgrounds(),w.headerHeight=70,(w.instance=this).storedPath=window.location.pathname,this.target=$('[data-path="'+window.location.pathname+'"]'),this.sections=$("[data-scroll]")}(n.Scroll=o).animating=!1},{"./Breakpoint":2,"./Browser":3,"./Classes":4,"./Site":11}],10:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});o(i,[{key:"bind",value:function(){$("[data-share]").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=parseInt($(e.currentTarget).attr("data-winwidth"),10)||520,n=parseInt($(e.currentTarget).attr("data-winheight"),10)||350,o=screen.height/2-n/2,a=screen.width/2-t/2,i=e.currentTarget.href,e=$(e.currentTarget).data("share");return"linkedin"===e&&(t=420,n=430,o-=100),window.open(i,"sharer"+e,"top="+o+",left="+a+",toolbar=0,status=0,width="+t+",height="+n),!1})}}]),o=i;function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.bind()}n.Share=o},{}],11:[function(e,t,o){"use strict";var n=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./PushStates"),r=e("./Breakpoint"),s=e("./Scroll"),l=e("./pages/Page"),c=e("./Browser"),u=e("./Loader"),d=e("./Classes"),p=e("./Copy"),f=e("./Share"),h=e("./Api"),g=e("./Utils"),y=(n(m,[{key:"init",value:function(){var e=this;r.Breakpoint.update(),c.Browser.update(),o.$doc=$(document),o.$window=$(window),o.$body=$("body"),o.$article=$("#article-main"),o.$main=$("#main"),this.pushStates=new i.PushStates,this.pushStates.on(i.PushStatesEvents.CHANGE,this.onState),this.pushStates.on(i.PushStatesEvents.PROGRESS,this.onLoadProgress),this.scroll=new s.Scroll,this.loader=new u.Loader($(".js-loader")),this.loader.show(),this.loader.set(.5),new p.Copy,new f.Share,new h.API,h.API.bind(),Promise.all([this.setCurrentPage(),g.setRootVars()]).then(this.onPageLoaded),o.debug&&g.stats(),o.$window.on("orientationchange",function(){return setTimeout(function(){g.setRootVars()},100)}),o.$window.on("resize",function(){return e.onResize()})}},{key:"onResize",value:function(){r.Breakpoint.update(),r.breakpoint.desktop&&!c.browser.mobile&&g.setRootVars();var e=o.$window.width(),t=o.$window.height(),n=!this.lastBreakpoint||this.lastBreakpoint.value!==r.breakpoint.value;this.lastBreakpoint=r.breakpoint,this.currentPage&&this.currentPage.resize(e,t,r.breakpoint,n),this.loader.resize(e,t),this.scroll.resize()}},{key:"preloadAssets",value:function(){var e=[],n=imagesLoaded(".preload-bg",{background:!0});if(0<e.length)for(var t=0;t<e.length;++t)n.addBackground(e[t],null);return new Promise(function(e,t){n.jqDeferred.always(function(){e()})})}},{key:"detectHomePage",value:function(){o.$pageHeader&&o.$body.addClass("is-home-page")}},{key:"setCurrentPage",value:function(){var e=$("[data-page]"),t=e.data("page")||"Page",n=e.data("options");console.log(e,t),void 0===t&&("undefined"!==t&&console.warn('There is no "%s" in Pages!',t),t="Page"),1<e.length?console.warn("Only one [data-page] element, please!"):0===e.length&&(e=$($("#main").find("article")[0]||$("#main").children().first()[0]));n=new d.pages[t](e,n);return this.currentPage=n,h.API.bind(),n.on(l.PageEvents.PROGRESS,this.onPageProgress),n.on(l.PageEvents.CHANGE,this.onPageAppend),this.onResize(),n.preload()}}]),m);function m(){var n=this;!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.onState=function(){var e,t;n.currentPage.onState()||(e=n.pushStates.load(),(t=n.currentPage.animateOut()).then(function(){n.loader.show()}),n.scroll.stop(),t=[e,t],Promise.all(t).then(n.render))},this.onLoadProgress=function(e){n.loader.set(.5*e)},this.onPageProgress=function(e){n.loader.set(.5+.5*e)},this.onPageAppend=function(e){i.PushStates.bind(e[0]),n.scroll.load()},this.render=function(){n.currentPage&&(n.currentPage.off(),n.currentPage.destroy(),n.currentPage=null),n.scroll.destroy(),console.groupEnd(),console.group(),n.pushStates.render(),n.setCurrentPage().then(n.onPageLoaded),i.PushStates.setTitle($('meta[property="og:title"]').attr("content"))},this.onPageLoaded=function(){o.$body.removeAttr("class"),n.loader.hide(),g.enableBodyScrolling(s.Scroll.scrollTop),s.Scroll.scrollToElement(o.$body,0,0),n.currentPage.animateIn(),o.$pageHeader=0<$("#page-header").length?$("#page-header"):null,n.detectHomePage(),i.PushStates.setNavbarVisibility(),s.Scroll.scrollToPath(!0),n.scroll.load(),n.scroll.start(),$("article").parent().addClass("is-loaded")},console.group(),console.log("site"),m.instance=this,o.pixelRatio=window.devicePixelRatio||1,o.debug=0<=window.location.search.indexOf("debug")}o.Site=y,$(document).ready(function(){o.site=new y,o.site.init()})},{"./Api":1,"./Breakpoint":2,"./Browser":3,"./Classes":4,"./Copy":5,"./Loader":7,"./PushStates":8,"./Scroll":9,"./Share":10,"./Utils":12,"./pages/Page":25}],12:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Browser"),i=e("./Breakpoint"),r=e("./Site");n.generateUID=function(){return""+(new Date).getTime()+Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n.keys={enter:13,esc:27,space:32,left:37,up:38,right:39,down:40,pageUp:33,pageDown:34,end:35,home:36},n.getParams=function(e){var t={},n=document.createElement("a");n.href=e;for(var o=n.search.substring(1).split("&"),a=0;a<o.length;a++){var i=o[a].split("=");t[i[0]]=decodeURIComponent(i[1])}return t},n.testAutoplay=function(){return new Promise(function(e){void 0!==o(Modernizr.videoautoplay)?e(Modernizr.videoautoplay):Modernizr.on("videoautoplay",function(){e(Modernizr.videoautoplay)})})},n.parseToTime=function(e){var t=parseInt(""+e,10),n=parseInt(""+t/3600,10)%24,e=parseInt(""+t/60,10)%60;return(0<n?(n<10?"0"+n:n)+":":"")+(e<10?"0"+e:e)+":"+((t=t%60)<10?"0"+t:t)},n.stats=function(){var t=new Stats;return t.showPanel(0),$(t.dom).css({"pointer-events":"none",top:110}),document.body.appendChild(t.dom),requestAnimationFrame(function e(){t.begin(),t.end(),requestAnimationFrame(e)}),t},n.timeFormat=function(e){var t=Math.floor(e/60).toString(),t=10<=parseInt(t,10)?t:"0"+t,e=Math.floor(e%60).toString(),e=10<=parseInt(e,10)?e:"0"+e;return t.toString()+":"+e.toString()},n.updateImageSources=function(){a.browser.ie&&$("[data-iesrc]").each(function(e,t){t.setAttribute("src",t.getAttribute("data-iesrc")),t.removeAttribute("data-iesrc")}),$("[data-src]").each(function(e,t){t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")}),$("[data-srcset]").each(function(e,t){t.setAttribute("srcset",t.getAttribute("data-srcset")),t.removeAttribute("data-srcset")})},n.shuffle=function(e){for(var t,n,o=void 0,o=e.length-1;0<o;o--)t=Math.floor(Math.random()*(o+1)),n=e[o],e[o]=e[t],e[t]=n;return e},n.setRootVars=function(){var e=i.breakpoint.desktop?$("#navbar").height():0;document.documentElement.style.setProperty("--app-height",window.innerHeight-e+"px"),document.documentElement.style.setProperty("--col-25",$(".col-pattern-25").width()+"px"),document.documentElement.style.setProperty("--col-66",$(".col-66").width()+"px"),e=i.breakpoint.desktop?120:50,$(".aside").css("height",r.$window.height()+e)},n.enableBodyScrolling=function(e){$("body").removeAttr("style"),$("body").removeClass("scrolling-disable"),window.scrollTo(0,e)},n.disableBodyScrolling=function(e){a.browser.ie,a.browser.ie,$("body").addClass("scrolling-disable"),$("body").css({overflow:"hidden","will-change":"top",width:"100%","touch-action":"none"})},n.translations={"invalid-email":{en:"Invalid email address format",pl:"Niepoprawny format adresu e-mail"},"required-field":{en:"Required field",pl:"Pole obowiÄ…zkowe"},"invalid-zip":{en:"Enter zip-code in five digits format",pl:"Wpisz kod pocztowy w formacie XX-XXX"}}},{"./Breakpoint":2,"./Browser":3,"./Site":11}],13:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../PushStates"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"bind",value:function(){this.$item.off(".menu").on("click.menu",this.hideMenu)}}],[{key:"asideAnimation",value:function(){s.instance.isOpen?(gsap.to(s.instance.$item,.25,{duration:.25,stagger:-.1,opacity:0,x:20,delay:.2}),gsap.to(s.instance.$hamburgerLine,.3,{duration:.3,scaleY:0}),s.instance.isOpen=!1):(gsap.to(s.instance.$item,.5,{duration:.5,stagger:.05,opacity:1,x:0,delay:.2}),gsap.to(s.instance.$hamburgerLine,.3,{duration:.3,scaleY:1,delay:.5}),s.instance.isOpen=!0)}}]),s);function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n.view=e,n.options=t,n.isOpen=!1,n.hideMenu=function(e){r.PushStates.asideToggle(e)},n.$item=n.view.find(".js-item"),n.$hamburgerLine=$("[data-hamburger]").find("i"),(s.instance=n).bind(),n}n.Aside=o},{"../PushStates":8,"./Component":15}],14:[function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,a=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Component"),s=e("../Utils"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,r.Component),o(l,[{key:"enable",value:function(){this.showBg();for(var e=0,t=0;t<this.$tab.length;t++){var n=0<=this.currentCharts.indexOf(t);this.toggleChart(t,n,!1,.3*e),e+=n?1:0}}},{key:"disable",value:function(){this.hideBg(!0);for(var e=0;e<this.$tab.length;e++)this.toggleChart(e,!1,!0)}},{key:"createDataObject",value:function(){var n=this;this.graphsData=this.$tab.toArray().map(function(e,t){e=$(e);return{id:t,xPercent:0,yPoints:n.getPoints(t),color:n.colors[e.data("color")],fill:0===t,shown:!1}})}},{key:"getPoints",value:function(e){return[[14,10,12,13,14,9,12,17,16,11,13,19,10,9,8,15,17,15,22,25,21,20,19,21,20,19,24,28,21,27,18,23,33,31,18,25,36,24,31,33,21,36,34,30,26,24,35,27,30,18,20,30,26,28,33,25,39,28,17,35],[1,2,8,7,6,3,8,5,5,4,8,7,7,11,10,8,7,9,8,6,8,12,8,14,11,8,8,11,7,13,13,16,20,10,10,13,14,20,16,11,17,16,18,21,8,20,15,15,16,15,19,20,11,20,20,12,17,20,23,16],[13,11,6,9,9,8,9,11,7,14,12,8,10,16,9,20,19,12,12,15,18,15,14,22,19,20,20,17,24,23,27,20,20,21,21,25,20,27,22,24,24,26,23,25,26,21,29,26,27,26,25,20,15,25,22,26,20,23,33,28],[2,5,10,9,18,9,10,12,20,19,13,9,15,11,21,19,23,23,26,23,23,23,25,25,26,26,30,22,25,33,38,16,32,27,27,35,28,28,35,34,36,25,27,25,45,37,31,36,37,36,28,38,42,42,44,43,41,34,31,36],[7,10,10,6,5,13,17,13,10,11,14,17,16,19,22,20,25,17,24,13,25,20,26,24,26,15,23,24,30,30,29,31,31,21,32,31,25,38,35,28,40,32,37,31,36,40,35,37,23,36,37,40,40,41,17,23,40,34,40,40],[6,6,2,12,10,13,12,4,12,11,13,16,14,14,14,14,14,17,15,16,16,12,18,15,22,16,19,18,21,21,25,15,26,17,27,27,21,12,24,15,19,29,18,24,25,18,28,32,25,28,27,28,31,25,27,35,24,27,15,28],[4,5,10,13,15,17,7,17,12,12,17,12,12,11,22,21,19,20,21,26,22,19,21,24,25,12,28,27,28,27,31,31,15,30,26,19,29,29,33,33,17,30,30,33,27,34,33,17,39,21,35,33,33,21,35,30,39,31,35,29]][e]}},{key:"getRandomPoints",value:function(i,r,e,s){return Array.apply(null,{length:e}).map(function(e,t,n){var o=r-i,a=t/n.length,t=Math.sin(a*Math.PI/2),n=.4*(Math.random()<s?-.5+Math.random():1),a=Math.random()*(a<.5?.9:1);return Math.round(i*a+Math.random()*o*.2+t*o*(.6+n))})}},{key:"saveCache",value:function(){var t=this;this.graphsData.forEach(function(e){e.yPx=t.calcYPx(e.yPoints),e.labelY||(e.labelY=e.yPx[0])})}},{key:"bind",value:function(){this.$tab.off(".tab").on("click.tab",this.onClickTab)}},{key:"showBg",value:function(){gsap.killTweensOf(this,{bg:!0}),gsap.to(this.bgLines,{scaleX:1,duration:2,ease:"power3",stagger:-.1})}},{key:"hideBg",value:function(e){gsap.killTweensOf(this,{bg:!0}),gsap.to(this.bgLines,{scaleX:0,duration:e?0:2,ease:"power3",stagger:e?0:-.1})}},{key:"toggleChart",value:function(e,t,n,o){var a=this.graphsData[e];void 0===t&&(t=!a.shown),gsap.to(a,{duration:n?0:3.2,xPercent:t?1:0,labelY:a.yPx[t?a.yPx.length-1:0],roundProps:"labelY",ease:"power3",delay:!n&&o||0,onUpdate:this.draw}),this.$tab.eq(e).toggleClass("is-on-chart",t),this.graphsData[e].shown=t}},{key:"drawBg",value:function(){this.ctx.beginPath(),this.ctx.lineWidth=1,this.ctx.strokeStyle=this.colors.white,this.ctx.moveTo(this.graph.left,this.graph.bottom),this.ctx.lineTo(this.graph.right+20,this.graph.bottom),this.ctx.stroke();var e,t=[2015,2016,2017,2018,2019,2020,2021];this.ctx.strokeStyle=this.colors.gray,this.ctx.lineJoin="round",this.ctx.font="500 12px Quicksand, sans-serif",this.ctx.lineWidth=1,this.ctx.fillStyle=this.colors.blue;for(var n=0;n<=8;n++)e=50-5*n,this.ctx.globalAlpha=this.bgLines[n].scaleX,this.ctx.fillText(""+e,0,this.graph.height/8*n+this.margin.top+5),this.ctx.globalAlpha=1,this.ctx.beginPath(),this.ctx.moveTo(this.graph.left,this.graph.height/8*n+this.margin.top),this.ctx.lineTo(this.graph.left+(this.graph.width+20)*this.bgLines[n].scaleX,this.graph.height/8*n+this.margin.top),this.ctx.stroke();for(var o=0;o<t.length;o++)this.ctx.beginPath(),this.ctx.lineWidth=1,this.ctx.lineJoin="round",this.ctx.font="500 12px Quicksand, sans-serif",this.ctx.fillStyle=this.colors.white,this.ctx.fillText(""+t[o],this.graph.width/t.length*o+this.margin.left,this.canvas.height-10),this.ctx.stroke()}},{key:"largestYVal",value:function(e){for(var t=0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t}},{key:"calcYPx",value:function(e){for(var t=this.largestYVal(e),n=[],o=0;o<e.length;o++){var a=Math.round(this.graph.height-e[o]/t*this.graph.height+this.graph.top);n.push(a)}return n}},{key:"getInterPointsY",value:function(e,t,n){var o=i(t,2),a=o[0],t=o[1],o=i(n,2),n=o[0];return(o[1]-t)*(e-a)/(n-a)+t}}]),l);function l(e,t){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));c.view=e,c.options=t,c.margin={top:5,left:25,right:110,bottom:49},c.graph={top:0,left:0,right:0,bottom:0,height:0,width:0},c.colors={gray:"rgba(97,97,97,0.5)",orange:"#fc8c59",mint:"#4fdbc5",blue:"#5877cc",pink:"#B60E63",white:"#fff",beige:"#fdd49e",cinnabar:"#e75040",sea:"#26bbe3"},c.graphsData=[],c.resize=function(){c.canvas.width=c.$wrapper.width(),c.canvas.height=c.$wrapper.height(),c.graph={top:c.margin.top,left:c.margin.left,right:c.canvas.width-c.margin.right,bottom:c.canvas.height-c.margin.bottom,height:c.canvas.height-c.margin.top-c.margin.bottom,width:c.canvas.width-c.margin.left-c.margin.right},c.saveCache(),c.draw()},c.onClickTab=function(e){c.toggleChart($(e.currentTarget).index()),c.currentCharts=c.graphsData.map(function(e,t){return e.shown?t:null}).filter(function(e){return null!==e})},c.draw=function(){c.ctx.clearRect(0,0,c.canvas.width,c.canvas.height),c.drawBg(),c.graphsData.forEach(function(e){return c.drawGraph(e)})},c.drawGraph=function(a){var i=void 0;c.ctx.strokeStyle=a.color,c.ctx.lineWidth=3,c.ctx.lineCap="round",c.ctx.lineJoin="round",c.ctx.globalAlpha=1,c.ctx.beginPath();var r,s=c.graph.width/(a.yPx.length-1),l=a.xPercent*s*a.yPx.length+c.graph.left;a.yPx.forEach(function(e,t,n){var o=s*t+c.graph.left;o<=l&&0<a.xPercent?(c.ctx.lineTo(o,e),i=a.yPoints[t]):o<l+s&&0<a.xPercent&&(e=c.getInterPointsY(l,[o-s,n[t-1]],[o,e]),c.ctx.lineTo(l,e))}),c.ctx.stroke(),c.ctx.closePath(),a.fill&&(r=c.margin.left,c.ctx.strokeStyle="transparent",c.ctx.fillStyle=a.color,c.ctx.globalAlpha=.4,c.ctx.beginPath(),a.yPx.forEach(function(e,t,n){var o=s*t+c.graph.left;o<=l&&0<a.xPercent?(c.ctx.lineTo(o,e),r=o):o<l+s&&0<a.xPercent&&(c.ctx.lineTo(l,c.getInterPointsY(l,[o-s,n[t-1]],[o,e])),r=l)}),c.ctx.lineTo(r,c.graph.bottom),c.ctx.lineTo(c.graph.left,c.graph.bottom),c.ctx.fill(),c.ctx.closePath()),0<a.xPercent&&(c.ctx.globalAlpha=1,c.ctx.beginPath(),c.ctx.lineWidth=1,c.ctx.strokeStyle=a.color,c.ctx.moveTo(c.graph.right,a.labelY),c.ctx.lineTo(c.graph.right+24,a.labelY),c.ctx.stroke(),c.ctx.beginPath(),c.ctx.strokeStyle="transparent",c.ctx.fillStyle=a.color,c.ctx.moveTo(c.graph.right+20,a.labelY),c.ctx.lineTo(c.graph.right+40,a.labelY-12),c.ctx.lineTo(c.graph.right+110,a.labelY-12),c.ctx.lineTo(c.graph.right+110,a.labelY+12),c.ctx.lineTo(c.graph.right+40,a.labelY+12),c.ctx.closePath(),c.ctx.fill(),c.ctx.beginPath(),c.ctx.lineWidth=1,c.ctx.lineJoin="round",c.ctx.font="500 14px Quicksand, sans-serif",c.ctx.fillStyle=c.colors.white,c.ctx.fillText(i+"",c.graph.right+44,a.labelY+4),c.ctx.stroke())},c.$wrapper=c.view.find(".js-wrapper"),c.$tab=c.view.find("[data-chart-tab]"),c.canvas=c.view.find("canvas")[0],c.ctx=c.canvas.getContext("2d"),c.bgLines=Array.apply(0,{length:9}).map(function(){return{scaleX:0}});t=s.getParams(window.location.search).charts;return c.currentCharts=t?t.split(",").map(function(e){return parseInt(e,10)}):[0,3,4],c.createDataObject(),c.bind(),c.resize(),c}n.Chart=o},{"../Utils":12,"./Component":15}],15:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0!==o){if("value"in o)return o.value;o=o.get;return void 0!==o?o.call(n):void 0}if(e=Object.getPrototypeOf(e),null!==e)return i(e,t,n)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../Handler"),e=function e(){r(this,e)};(n.ComponentEvents=e).CHANGE="change";(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,s.Handler),o(l,[{key:"preloadImages",value:function(){return[]}},{key:"onState",value:function(){return!1}},{key:"animateIn",value:function(e,t){}},{key:"animateOut",value:function(){return Promise.resolve(null)}},{key:"turnOff",value:function(){}},{key:"turnOn",value:function(){}},{key:"destroy",value:function(){this.view.data("comp",null),this.view.off(),i(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"destroy",this).call(this)}}]),o=l;function l(e,t){r(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return n.view=e,n.options=t,n.resize=function(e,t,n,o){},e[0]||console.warn("component built without view"),n.view.data("comp",n),n}n.Component=o},{"../Handler":6}],16:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,e("./Component").Component),o(i,[{key:"bind",value:function(){this.$toggle.off(".toggle").on("click.toggle",this.togglePanel)}},{key:"initialState",value:function(){gsap.set(this.$body,{height:"0"})}}]),o=i;function i(e,t){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.view=e,n.options=t,n.resize=function(e,t,n,o){},n.togglePanel=function(e){n.isToggled?(n.$body.removeClass("is-toggled"),gsap.to(n.$body,{duration:.5,height:"0",ease:"power2.inOut",onComplete:function(){n.isToggled=!1}})):gsap.to(n.$body,{duration:.5,height:"auto",ease:"power2.inOut",onComplete:function(){n.$body.addClass("is-toggled"),n.isToggled=!0}})},n.$toggle=n.view.find(".js-button-toggle"),n.$body=n.view.find(".js-dashboard-body"),n.bind(),n.initialState(),n}n.Dashboard=o},{"./Component":15}],17:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../Site"),s=e("./Filters"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Component),o(l,[{key:"bind",value:function(){this.view.off(".select").on("click.select",this.toggle),r.$doc.off(".dropdown").on("click.dropdown",this.onClickAnywhereHandler),this.$item.off(".selection").on("click.selection",this.onItemClick)}},{key:"openSelect",value:function(e){e.stopPropagation(),e.preventDefault(),this.isOpen||(this.view.addClass("is-open"),this.isOpen=!0)}},{key:"closeSelect",value:function(){this.isOpen&&(this.view.removeClass("is-open"),this.isOpen=!1)}}]),l);function l(e,t){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return n.view=e,n.options=t,n.isOpen=!1,n.toggle=function(e){n.isOpen?n.closeSelect():n.openSelect(e)},n.onClickAnywhereHandler=function(e){e.stopPropagation(),e.preventDefault(),$(e.currentTarget).hasClass("js-item")&&!n.isOpen||$(e.target).closest(n.view).length<=0&&n.closeSelect()},n.onItemClick=function(e){e.stopPropagation(),e.preventDefault();var t=$(e.currentTarget).data("value");n.closeSelect(),n.$selected.html(t),n.view.attr("data-selected-country",t),setTimeout(function(){s.Filters.showPickedFilters(t)},300)},n.$trigger=n.view.find(".js-trigger"),n.$selected=n.view.find("[data-select]"),n.$item=n.view.find("[data-value]"),n.bind(),n.view.attr("data-selected",n.$selected.text()),n}n.Dropdown=o},{"../Site":11,"./Component":15,"./Filters":18}],18:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,e("./Component").Component),o(i,[{key:"bind",value:function(){this.$itemSector.off(".sector").on("click.sector",this.toggleSector),this.$itemTime.off(".time").on("click.time",this.toggleTime),this.$clear.off(".clear").on("click.clear",this.clearArray),this.$allSectors.off(".all").on("click.all",this.markAllSectors)}},{key:"markTimeline",value:function(e){e.hasClass("js-time")&&(this.$timelineItem.removeClass("is-active"),this.$timelineItem.filter("[data-time="+e.data("item")+"]").addClass("is-active"))}},{key:"unmarkTimeline",value:function(){this.$timelineItem.removeClass("is-active")}},{key:"removeElementFromArray",value:function(e,t){var n=this.filters.indexOf(e.data("item"));-1<n&&(t.splice(n,1),e.removeClass("is-active")),console.log("FILTERS:",this.filters)}},{key:"addElementToArray",value:function(e,t){t.push(e.data("item")),e.addClass("is-active"),console.log("FILTERS:",this.filters)}}],[{key:"showPickedFilters",value:function(e){var t=0<i.instance.$itemSector.filter(".is-active").length?i.instance.$itemSector.filter(".is-active"):null,n=0<i.instance.$itemTime.filter(".is-active").length?i.instance.$itemTime.filter(".is-active"):null,e=e||i.instance.$selectedCountry.text();i.instance.$picked.find("span").remove(),t&&(console.log(t),t.length===i.instance.$itemSector.length?(console.log("aal",i.instance.$allSectors),i.instance.$picked.append("<span>"+i.instance.$allSectors.text()+"</span>")):t.each(function(e,t){i.instance.$picked.append("<span>"+$(t).text()+"</span>")})),e&&(console.log(e),i.instance.$picked.append("<span>"+e+"</span>")),n&&i.instance.$picked.append("<span>"+n.data("item-label")+"</span>")}}]),o=i;function i(e,t){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return a.view=e,a.options=t,a.filters=[],a.resize=function(e,t,n,o){setTimeout(function(){a.$clear.css("height",a.$panel.outerHeight())})},a.markAllSectors=function(){var e=0<a.$itemTime.filter(".is-active").length?a.$itemTime.filter(".is-active"):null;a.clearArray(),a.$itemSector.each(function(e,t){a.addElementToArray($(t),a.filters)}),a.$allSectors.addClass("is-active"),a.isAllChecked=!0,e&&(a.addElementToArray(e,a.filters),a.markTimeline(e)),i.showPickedFilters()},a.clearArray=function(){a.filters=[],a.$itemTime.removeClass("is-active"),a.$itemSector.removeClass("is-active"),a.$allSectors.removeClass("is-active"),a.isAllChecked=!1,a.unmarkTimeline(),i.showPickedFilters()},a.toggleSector=function(e){e=$(e.currentTarget);e.hasClass("is-active")?(a.removeElementFromArray(e,a.filters),a.isAllChecked&&(a.$allSectors.removeClass("is-active"),a.isAllChecked=!1)):a.addElementToArray(e,a.filters),i.showPickedFilters()},a.toggleTime=function(e){var t=$(e.currentTarget);a.unmarkTimeline(),t.hasClass("is-active")?a.removeElementFromArray(t,a.filters):((e=0<a.$itemTime.filter(".is-active").length?a.$itemTime.filter(".is-active"):null)&&a.removeElementFromArray(e,a.filters),a.addElementToArray(t,a.filters),a.markTimeline(t)),i.showPickedFilters()},a.$clear=a.view.find(".js-clear"),a.$panel=a.view.find(".js-panel"),a.$itemSector=a.view.find(".js-item"),a.$itemTime=a.view.find(".js-time"),a.$timelineItem=a.view.find("[data-time]"),a.$allSectors=a.view.find(".js-item-all"),a.$picked=$(".js-picked-filter"),a.$selectedCountry=a.view.find("[data-select]"),i.instance=a,console.log(i.instance.$itemSector,i.instance.view.find("[data-selected]").data("selected")),a.bind(),a}n.Filters=o},{"./Component":15}],19:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,e("./Component").Component),o(i,[{key:"bind",value:function(){this.getArrFromObject()}},{key:"getArrFromObject",value:function(){this.dataArray=Object.entries(this.data).sort(function(e,t){return e[0].localeCompare(t[0])}),this.dataArray.forEach(function(e,t){e[1].value,e[1].sector,e[1].color})}},{key:"setTileSize",value:function(e,t,n,o){var a,i=this.$item.filter("[data-tile="+e+"]"),r=void 0,s=void 0,l=void 0,c=void 0,e=void 0,u=this.area*(t/100);0===o&&(l=r=1,c=this.gridRows,s=Math.round(u/(this.gridCell.height*c)/this.gridCell.width),e=(e=Math.round(u/(this.gridCell.width*this.gridCell.height)))%2==0?e:e-1),a={column_start:r,column_end:s,row_start:l,row_end:c},i.css({position:"relative",opacity:1,"grid-column-start":r,"grid-column-end":s,"grid-row-start":l,"grid-row-end":"span"+c,backgroundColor:n}),this.itemPositioning.push(a),this.cellsBalance=this.cellsBalance-e}}]),o=i;function i(e,t){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.view=e,n.options=t,n.data=[],n.dataArray=[],n.itemMargin=3,n.gridRows=20,n.gridCols=20,n.gridCells=n.gridCols*n.gridRows,n.cellsBalance=n.gridCells,n.gridCell={width:n.view.width()/n.gridCols,height:n.view.height()/n.gridRows},n.minCellWidth=3,n.minCellHeight=3,n.itemPositioning=[],n.resize=function(e,t,n,o){},n.$item=n.view.find(".js-masonry-tile"),n.$item.each(function(e,t){t={sector:$(t).data("tile"),value:$(t).data("value"),color:$(t).data("color")};n.data.push(t)}),n.area=(n.view.width()-3*n.itemMargin)*n.view.height(),n.bind(),n}n.Masonry=o},{"./Component":15}],20:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../Breakpoint"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"bind",value:function(){this.view.on("mousemove",this.onMouseMove)}},{key:"createValueArray",value:function(){var o=this,e=this.settings.elements.toString().replace(/\s/g,"").split(","),a=this.settings.moveX.map(Number),i=this.settings.moveY.map(Number);this.items=e.map(function(e,t){var n=o.view.find("."+e);return n[0]||console.warn("There is no ."+e+" element to use in parallax"),{$el:n,moveX:a[t],moveY:i[t]}}).filter(function(e){return!!e.$el[0]})}},{key:"animate",value:function(n,o){var a=this;this.items&&this.items.forEach(function(e,t){gsap.to(e.$el,{duration:a.time,x:n*e.moveX,y:o*e.moveY,ease:"power2"})})}}]),s);function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n.view=e,n.options=t,n.time=2,n.onMouseMove=function(e){n.moveX=e.clientX/window.innerWidth-.5,n.moveY=e.clientY/window.innerHeight-.5,n.animate(-n.moveX,-n.moveY)},n.settings=t,n.createValueArray(),n.view.data("Parallax",n),r.breakpoint.desktop&&n.bind(),n}n.Parallax=o},{"../Breakpoint":2,"./Component":15}],21:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../Site"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"bind",value:function(){this.$trigger.off(".toggle").on("click.toggle",this.toggle),r.$doc.off(".smalldropdown").on("click.smalldropdown",this.onClickAnywhereHandler),this.$radio.off(".selection").on("click.selection",this.onItemClick)}},{key:"openSelect",value:function(e){e.stopPropagation(),e.preventDefault(),this.isOpen||(this.view.addClass("is-open"),this.isOpen=!0)}},{key:"closeSelect",value:function(){console.log(this.isOpen,"open?"),this.isOpen&&(this.view.removeClass("is-open"),this.isOpen=!1)}}]),s);function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n.view=e,n.options=t,n.isOpen=!1,n.toggle=function(e){n.isOpen?n.closeSelect():n.openSelect(e)},n.onClickAnywhereHandler=function(e){!$(e.currentTarget).hasClass("js-item")&&n.isOpen&&$(e.target).closest(n.view).length<=0&&n.closeSelect()},n.onItemClick=function(e){e.stopPropagation(),e.preventDefault();e=$(e.currentTarget).attr("value");n.closeSelect(),n.$selected.html(e),n.$selected.attr("data-selected",e)},n.$trigger=n.view.find(".js-trigger"),n.$selected=n.view.find("[data-selected]"),n.$radio=n.view.find("input[type=radio]"),n.bind(),n}n.Range=o},{"../Site":11,"./Component":15}],22:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,e("./Component").Component),o(i,[{key:"bind",value:function(){this.$nav.off(".nav").on("click.nav",this.switchSlide)}},{key:"setActiveElement",value:function(e,t){var n=this;e.removeClass("is-active"),setTimeout(function(){e.eq(n.index).addClass("is-active")},t)}}]),o=i;function i(e,t){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.view=e,n.options=t,n.index=0,n.switchSlide=function(e){e=$(e.currentTarget);n.index=e.index(),n.setActiveElement(n.$nav,0),n.setActiveElement(n.$item,100),n.setActiveElement(n.$captions,1e3)},n.$item=n.view.find(".js-item"),n.$nav=n.view.find(".js-nav"),n.$captions=n.view.find(".js-caption"),n.bind(),n}n.Slider=o},{"./Component":15}],23:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../Site"),s=e("../Utils"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Component),o(l,[{key:"bind",value:function(){this.$tab.off(".tab").on("click.tab",this.onTabClick)}},{key:"setActiveView",value:function(e){var t=this;this.tabToShow=e,this.$tab.removeClass("is-active"),this.$tab.filter("[data-tab="+e+"]").addClass("is-active"),this.hideCurrent().then(function(){t.cleanCachedAnim(),t.show(t.tabToShow),t.tabToShow=null,r.$window.resize()})}},{key:"hideCurrent",value:function(){var n=this;return new Promise(function(e,t){n.$current?gsap.to(n.$current,{opacity:0,duration:.3,ease:"sine",onComplete:function(){n.$current.removeClass("is-active"),e()}}):e()})}},{key:"cleanCachedAnim",value:function(){var e=this.view.find("[data-uncache]");this.view.find(".uncached").removeAttr("style"),e.removeClass("animated"),this.view.find("[data-component]").each(function(e,t){t=$(t).data("comp");t&&void 0!==t.disable&&t.disable()})}},{key:"show",value:function(n){var o=this;return new Promise(function(e,t){o.$current=o.$item.filter("[data-view="+n+"]"),o.$current.addClass("is-active"),gsap.fromTo(o.$current,{opacity:0},{opacity:1,duration:.7,ease:"sine",onComplete:function(){return e()}}),o.$current.find("[data-component]").each(function(e,t){t=$(t).data("comp");t&&void 0!==t.enable&&t.enable()})})}}]),l);function l(e,t){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return n.view=e,n.options=t,n.onTabClick=function(e){e=$(e.currentTarget).data("tab");n.setActiveView(e)},n.$tab=n.view.find("[data-tab]"),n.$item=n.view.find("[data-view]"),n.$wrap=n.view.find(".js-tabs-wrapper"),n.bind(),n.setActiveView(parseInt(s.getParams(window.location.search).tab,10)||0),n}n.Stats=o},{"../Site":11,"../Utils":12,"./Component":15}],24:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),r=e("../Site"),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"bind",value:function(){var e=this;this.$button.on("click.tooltip",this.onButtonClickHandler),this.view.off("mouseon").on("mouseenter.mouseon",this.onMouseEnter).off("mouseoff").on("mouseleave.mouseoff",this.onMouseLeave),r.$doc.on("click.tooltip",this.onClickAnywhereHandler),this.$close&&this.$close.on("click.tooltip",function(){return e.close()})}},{key:"open",value:function(){var e=this;this.isOpen=!0,setTimeout(function(){e.view.addClass("is-open")},250),0<this.view.closest(".header").length&&this.view.closest(".header").addClass("is-toggled-share"),setTimeout(function(){e.isOpen&&e.close()},3e3)}},{key:"close",value:function(){this.isOpen=!1,this.view.removeClass("is-open"),0<this.view.closest(".header").length&&this.view.closest(".header").removeClass("is-toggled-share")}}]),s);function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n.view=e,n.options=t,n.onMouseEnter=function(){n.isOpen||n.open()},n.onMouseLeave=function(){n.isOpen&&n.close()},n.onButtonClickHandler=function(e){e.stopPropagation(),e.preventDefault(),n.isOpen?n.close():n.open()},n.onClickAnywhereHandler=function(e){$(e.target).closest(n.view).length<=0&&n.close()},n.$button=n.view.find(".js-toggle"),n.$close=0<n.view.find(".js-close").length?n.view.find(".js-close"):null,n.bind(),n}n.Tooltip=o},{"../Site":11,"./Component":15}],25:[function(e,t,n){"use strict";var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0!==o){if("value"in o)return o.value;o=o.get;return void 0!==o?o.call(n):void 0}if(e=Object.getPrototypeOf(e),null!==e)return i(e,t,n)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../Handler"),l=e("../components/Component"),c=e("../Classes"),u=e("../Site"),f=function e(){r(this,e)};(n.PageEvents=f).PROGRESS="progress",f.COMPLETE="complete",f.CHANGE="append";(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(d,s.Handler),o(d,[{key:"preload",value:function(){var n=this,o=imagesLoaded(this.view.find(".preload").toArray(),{background:!0}),e=[],t=!0,a=!1,i=void 0;try{for(var r=this.components[Symbol.iterator]();!(t=(s=r.next()).done);t=!0)var s=s.value,e=e.concat(s.preloadImages())}catch(e){a=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw i}}var l=!0,c=!1,u=void 0;try{for(var d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var p=p.value;o.addBackground(p,null)}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}return new Promise(function(e,t){n.loader=o.jqDeferred,n.loader.progress(function(e,t){e=e.progressedCount/e.images.length;n.trigger(f.PROGRESS,e)}).always(function(){n.trigger(f.COMPLETE),e()})})}},{key:"onState",value:function(){var e=!1,t=!0,n=!1,o=void 0;try{for(var a=this.components[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var i=i.value.onState();!e&&i&&(e=!0)}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}return e}},{key:"animateIn",value:function(e){var t=$("#backgrounds-fixed");gsap.to(t,{duration:.5,opacity:1,display:"block"});for(var n=0;n<this.components.length;++n)this.components[n].animateIn(n,e);gsap.to(this.view,{duration:.4,opacity:1,onComplete:function(){gsap.to(t,{duration:.5,opacity:1,display:"block"})}})}},{key:"animateOut",value:function(){var n=this,e=$("#backgrounds-fixed");u.$main.removeClass("is-loaded"),gsap.set(e,{opacity:0,display:"none"});var o=new Promise(function(e,t){gsap.to(n.view,{duration:.4,onComplete:function(){e(),u.$body.removeAttr("class")},opacity:0})}),a=this.components.map(function(e){return e.animateOut()});return new Promise(function(t,e){var n=a.concat(o);Promise.all(n).then(function(e){t()})})}},{key:"turnOff",value:function(){this.callAll("turnOff")}},{key:"turnOn",value:function(){this.callAll("turnOn")}},{key:"resize",value:function(e,t,n,o){this.callAll("resize",e,t,n,o)}},{key:"destroy",value:function(){this.callAll("destroy"),this.components=[],gsap.killTweensOf(this.view),this.view=null,i(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"destroy",this).call(this)}},{key:"buildComponents",value:function(e){for(var t=e.length-1;0<=t;t--){var n,o=e.eq(t),a=o.data("component");void 0!==a&&c.components[a]?(n=o.data("options"),n=new c.components[a](o,n),this.components.push(n),n.on(l.ComponentEvents.CHANGE,this.onComponentChange)):window.console.warn("There is no `%s` component!",a)}}},{key:"callAll",value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=!0,i=!1,r=void 0;try{for(var s=this.components[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var l=l.value;"function"==typeof l[e]&&l[e].apply(l,[].slice.call(arguments,1))}}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}}}]),o=d;function d(e,t){r(this,d);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return n.view=e,n.components=[],n.onComponentChange=function(e){n.buildComponents(e.filter("[data-component]").add(e.find("[data-component]"))),n.trigger(f.CHANGE,e)},n.view.css({opacity:0}),n.components=[],n.buildComponents(n.view.parent().find("[data-component]")),n}n.Page=o},{"../Classes":4,"../Handler":6,"../Site":11,"../components/Component":15}]},{},[11]);